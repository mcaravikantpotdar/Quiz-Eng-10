<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodeTutor</title>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>

    <div class="quiz-container">
        
        <div id="uploadScreen" class="screen active">
            <div class="quiz-header">
                <h1>ğŸ“ CodeTutor</h1>
                <button id="viewScoreboardBtn" style="font-size:0.8rem; padding:8px 12px;">ğŸ† Rankings</button>
            </div>
            
            <div class="login-panel">
                <div class="input-group">
                    <input type="text" id="studentName" placeholder="Enter Your Name" />
                    <input type="text" id="schoolName" placeholder="Enter School Name" />
                </div>
                
                <div class="mode-selector">
                    <label><input type="radio" name="quizMode" value="practice" checked> ğŸ›¡ï¸ Practice Mode</label>
                    <label><input type="radio" name="quizMode" value="test"> âš”ï¸ Test Mode</label>
                </div>

                <div style="font-weight:600; color:#64748b;">Select a Chapter:</div>
                <div id="quizList" class="quiz-list">
                    </div>

                <div class="action-bar">
                    <button id="startQuiz" disabled>Start Learning â–¶</button>
                    <button id="demoModeBtn" style="background:none; color:#64748b; margin-left:auto; padding:5px;">ğŸ› ï¸ Demo</button>
                </div>
            </div>
            <div id="errorMessage" style="color:var(--error); margin-top:10px; text-align:center;"></div>
        </div>

        <div id="quizScreen" class="screen">
            <div class="quiz-header">
                <div id="chapterTitle" style="font-weight:bold;">Chapter</div>
                <div class="stats-bar">
                    <div>â° <span id="timer">0</span>s</div>
                    <div>â­ <span id="currentScore">0</span></div>
                </div>
            </div>

            <div id="questionGrid" style="display:flex; flex-wrap:wrap; gap:4px; margin-bottom:20px;"></div>

            <div class="question-area">
                <div class="q-badge">Question <span id="currentQuestion">1</span> / <span id="totalQuestions">0</span></div>
                <div class="question-text">
                    <div id="questionEn"></div>
                    <div id="questionHi" style="color:#64748b; font-size:0.9em; margin-top:8px;"></div>
                </div>
            </div>

            <div id="optionsContainer" class="options-grid"></div>

            <div class="nav-buttons">
                <button id="prevBtn">â† Back</button>
                <button id="hintBtn">ğŸ’¡ Hint</button>
                <button id="nextBtn">Next â†’</button>
            </div>
            <div style="text-align:center; margin-top:20px;">
                <button id="quitBtn" style="background:none; color:#ef4444; padding:5px;">Quit Quiz</button>
            </div>
        </div>

        <div id="resultsScreen" class="screen">
            <div class="result-card">
                <h2>ğŸ‰ Quiz Completed!</h2>
                <div class="score-circle">
                    <span id="finalScore">0</span> / <span id="totalPossible">0</span>
                </div>
                <h3 id="percentage" style="color:var(--primary);">0%</h3>
                <p>Time: <span id="totalTime">0m</span></p>
                
                <div id="resultsBreakdown" class="breakdown-list"></div>

                <div class="nav-buttons" style="justify-content:center; flex-wrap:wrap;">
                    <button id="retakeBtn">ğŸ”„ Retake</button>
                    <button id="homeBtn">ğŸ  Home</button>
                </div>
            </div>
        </div>

        <div id="scoreboardScreen" class="screen">
            <h2>ğŸ† Leaderboard</h2>
            <div style="overflow-x:auto;">
                <table class="scoreboard-table">
                    <thead><tr><th>Date</th><th>Name</th><th>Score</th></tr></thead>
                    <tbody id="scoreboardBody"></tbody>
                </table>
            </div>
            <div class="nav-buttons">
                <button id="backFromScoreboard">â† Back</button>
            </div>
        </div>

        <div id="quitModal" class="modal">
            <div class="modal-content">
                <h3>Quit Quiz?</h3>
                <div style="margin-top:15px; display:flex; gap:10px; justify-content:center;">
                    <button id="confirmQuit" style="background:var(--error); color:white;">Yes</button>
                    <button id="cancelQuit" style="background:#cbd5e1; color:black;">No</button>
                </div>
            </div>
        </div>

    </div>

    <script src="scripts/utils.js"></script>
    <script src="scripts/quiz-engine.js"></script>
    <script src="scripts/app.js"></script>

</body>
</html>
